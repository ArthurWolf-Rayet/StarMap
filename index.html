<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Padua Redemption – NavData Computation</title>
<style>
:root {
  /* Sci‑fi palette */
  --bg0: #05070c;
  --bg1: #070b12;
  --panel: rgba(10,16,26,.72);
  --border: rgba(110,240,255,.22);
  --text: rgba(235,250,255,.92);
  --good: rgba(120,255,200,.95);
  --bad: rgba(255,120,140,.95);
}
*{box-sizing:border-box;}
html,body{height:100%;margin:0;display:grid;place-items:center;padding:28px;color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:
  radial-gradient(1200px 700px at 20% 15%,rgba(110,240,255,.12),transparent 55%),
  radial-gradient(1000px 650px at 80% 30%,rgba(180,120,255,.10),transparent 60%),
  linear-gradient(180deg,var(--bg0),var(--bg1));
overflow-x:hidden;}
/* Animated grid glow */
body::before{content:"";position:fixed;inset:-40px;background:
    linear-gradient(rgba(110,240,255,.05) 1px,transparent 1px),
    linear-gradient(90deg,rgb(110,240,255,.04) 1px,transparent 1px);
background-size:44px 44px,44px 44px;transform:perspective(700px) rotateX(55deg) translateY(-140px);filter:blur(.2px);opacity:.35;pointer-events:none;animation:drift 12s linear infinite;}
@keyframes drift{from{background-position:0 0,0 0}to{background-position:0 176px,176px 0}}
/* Scanlines */
body::after{content:"";position:fixed;inset:0;background:repeating-linear-gradient(to bottom,#fff8,.028 1px,transparent 1px,transparent 6px);opacity:.10;mix-blend-mode:overlay;pointer-events:none;}
.wrap{max-width:1040px;width:100%;text-align:center;}
/* Topbar */
.topbar{display:flex;gap:24px;margin-bottom:24px;padding:16px;background-color:var(--bg1);border-radius:28px;
  box-shadow:0 18px 60px rgba(0,0,0,.55),0 0 0 1px rgba(180,120,255,.10) inset;}
.pill{display:flex;align-items:center;justify-content:center;padding:16px;background-color:var(--bg1);border-radius:28px;border:1px solid var(--border);}
.pill:first-child{flex:1;font-size:16px;color:var(--text);} /* title pill */

/* Circle button style – outline */
.circle.outline{
  width:8px;height:8px;border-radius:50%;background:none;border:1px solid var(--border);
  margin:0 4px;cursor:pointer;transition:.2s;
}
.circle.filled{
  width:8px;height:8px;border-radius:50%;background:var(--border);margin:0 4px;cursor:pointer;transition:.2s;
}
/* Active state */
.circle.active{box-shadow:0 0 6px var(--border);}
.circle.outline.active{background:var(--border);}

/* Main card */
.card{display:flex;gap:24px;padding:24px;background-color:var(--bg1);border-radius:28px;
      box-shadow:0 18px 60px rgba(0,0,0,.55),0 0 0 1px rgba(180,120,255,.10) inset;width:max-content;}
.star-scope{flex:1;position:relative;background-color:var(--bg1);overflow:hidden;}
.star-scope img{width:100%;height:100%;object-fit:contain;}
.pill-bottom{position:absolute;bottom:0;left:0;right:0;padding:8px 16px;
  background:#fff4;border-radius:0 0 28px 28px;backdrop-filter:blur(10px);display:flex;justify-content:center;}
.navcom-panel{width:360px;height:360px;background-color:var(--bg1);position:relative;overflow:hidden;}
.navcom-panel img{width:100%;height:100%;object-fit:contain;}
.pill-a{position:absolute;bottom:0;left:0;right:0;padding:8px 16px;
  background:#fff4;border-radius:0 0 28px 28px;backdrop-filter:blur(10px);display:flex;justify-content:center;}
.btn{padding:8px 16px;font-size:14px;color:var(--text);background-color:var(--good);
     border:none;border-radius:8px;margin:0 4px;cursor:pointer;transition:.2s;}
.btn-no{background-color:var(--bad);}
.clicked{opacity:.7 !important;filter:brightness(.95) saturate(1.1);}
</style>
</head>
<body>

<div class="wrap">
  <!-- Topbar -->
  <div class="topbar">
    <div class="pill">NavData Computation</div>
    <div class="pill" id="outline-pills">
      <button type="button" class="circle outline"></button>
      <button type="button" class="circle outline"></button>
      <button type="button" class="circle outline"></button>
    </div>
    <div class="pill" id="filled-pills">
      <button type="button" class="circle filled"></button>
      <button type="button" class="circle filled"></button>
      <button type="button" class="circle filled"></button>
    </div>
  </div>

  <!-- Main card -->
  <div class="card">
    <!-- StarScope panel -->
    <div class="star-scope">
      <img id="starscope-img" src="" alt="StarScope image"/>
      <div class="pill-bottom"><button id="generate-btn" class="btn">Generate New</button></div>
    </div>

    <!-- NavCom panel -->
    <div class="navcom-panel">
      <img id="a-image" src="" alt="A image"/>
      <div class="pill-a">
        <button id="match-btn" class="btn">Match</button>
        <button id="no-match-btn" class="btn btn-no">No Match</button>
      </div>
    </div>
  </div>
</div>

<script>
// -----------------------------------------------------
// Utility – image loader
// -----------------------------------------------------
const loadTextFile = url => fetch(url).then(r=>r.text()).catch(e=>{console.error('load error',url,e);return '';});

let qPaths = [], aPaths = [];

// Load Q.txt & A.txt
Promise.all([loadTextFile('Q.txt'), loadTextFile('A.txt')]).then(([q, a]) => {
  qPaths = q.split('\n').filter(p=>p.trim());
  aPaths = a.split('\n').filter(p=>p.trim());
  if(qPaths.length) displayImage(qPaths);
  if(aPaths.length) displayAImage(aPaths);
});

// -----------------------------------------------------
// Display functions
// -----------------------------------------------------
function randomFrom(arr){return arr[Math.floor(Math.random()*arr.length)]}
function displayImage(paths){
  const img=document.getElementById('starscope-img');
  if(img) img.src=randomFrom(paths);
}
function displayAImage(paths){
  const img=document.getElementById('a-image');
  if(img) img.src=randomFrom(paths);
}

// -----------------------------------------------------
// Button handlers
// -----------------------------------------------------
document.getElementById('generate-btn').addEventListener('click', () => {
  displayImage(qPaths);
});
['match','no-match'].forEach(id=>{
  const btn=document.getElementById(`${id}-btn`);
  if(btn){
    btn.addEventListener('click', e=>{
      e.currentTarget.classList.add('clicked');
      setTimeout(()=>e.currentTarget.classList.remove('clicked'),200);
      console.log(`Button ${id} pressed`);
    });
  }
});

// -----------------------------------------------------
// Circle pill toggles
// -----------------------------------------------------
function initCirclePill(pillId, type){
  const container=document.getElementById(pillId);
  if(!container) return;
  const circles=container.querySelectorAll('.circle');
  circles.forEach(btn=>{
    btn.addEventListener('click', e=>{
      // toggle active state for this circle
      btn.classList.toggle('active');
      console.log(`Circle (${type}) ${e.currentTarget.dataset.idx} toggled`, btn.classList.contains('active'));
      // optional: enforce only one active at a time:
      // circles.forEach(c=>c!==btn&&c.classList.remove('active'));
    });
  });
}
initCirclePill('outline-pills','outline');
initCirclePill('filled-pills','filled');

</script>
</body>
</html>
